<!DOCTYPE html>
<html>
<body>
  <h1>Todo App</h1>
  <input id="todo" placeholder="New todo">
  <button onclick="addTodo()">Add</button>
  <ul id="list"></ul>

<script>
async function loadTodos() {
  const res = await fetch('/api/todos');
  const todos = await res.json();
  document.getElementById('list').innerHTML =
    todos.map(t => `<li>${t.title}</li>`).join('');
}

async function addTodo() {
  const title = document.getElementById('todo').value;
  await fetch('/api/todos', {
    method: 'POST',
    headers: {'Content-Type':'application/json'},
    body: JSON.stringify({ title })
  });
  loadTodos();
}

loadTodos();
</script>
</body>
</html>
